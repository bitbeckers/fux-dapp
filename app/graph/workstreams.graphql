query WorkstreamsByUser($address: ID!) {
  userWorkstreams(where: { user_: { id: $address } }) {
    workstream {
      ...WorkstreamsByUserFragment
    }
  }
}

fragment WorkstreamsByUserFragment on Workstream {
  fuxGiven(where: { user_: { id: $address } }) {
    balance
    user {
      id
    }
  }
  deadline
  funding
  id
  name
  resolved
  contributors {
    user {
      id
    }
  }
  coordinator {
    id
  }
}

query WorkstreamByID($workstreamID: ID!) {
  workstream(id: $workstreamID) {
    ...WorkstreamByIDFragment
  }
}

fragment WorkstreamByIDFragment on Workstream {
  contributors {
    ...ContributorFragment
  }
  coordinator {
    id
  }
  deadline
  funding
  id
  name
  resolved
  evaluations {
    ...EvaluationFragment
  }
  fuxGiven {
    balance
    user {
      id
    }
  }
}

fragment ContributorFragment on UserWorkstream {
  id
  user {
    id
  }
}

fragment EvaluationFragment on Evaluation {
  creator {
    id
  }
  contributors {
    id
  }
  ratings
}

query WorkstreamVFux($address: ID!, $workstreamID: ID!) {
  vfuxWorkstreams(
    where: { user_: { id: $address }, workstream_: { id: $workstreamID } }
  ) {
    balance
  }
}
